---
sidebar_label: Выбор и оценка LLM
---

# Выбор и оценка LLM

Итак: вы сели писать LLM-powered сервис. Скачали зависимости, создали .py файл, импортировали ваш фреймворк. Перед вами вопрос - какую `model_name` выбрать?

## Questions

- Какая модель сейчас топ-1 под мой юзкейс?
- Как разные модели сравниваются друг с другом?
- Что **для бизнеса** важно кроме точности ответов?
- Как быть эмпирически уверенным в выборе модели?

## Steps

### 1. tl;dr;

Самый простой вариант - идем на [artificalanalysis.ai/models](https://artificialanalysis.ai/models) и выбираем что-то самое лучшее. Это онлайн-обновляемый непредвзятый рейтинг LLM.

Рейтинги моделей по кейсам на этом сайте - это просто агрегация результатов на разных бэнчмарках.

### 2. Популярные бэнчмарки

*Профессиональные резерчеры - приглашаю вас пояснить за бэнчмарки в комментариях*

Бэнчмарк - это набор тестов, которые используются для оценки модели.

### 3. Как бизнес выбирает модель для продакшена?

#### В проде в принципе всё очень просто выбирается:
1) Онлайн-исследования, например смотрят на соседей и на [artificalanalysis.ai/models](https://artificialanalysis.ai/models)
2) есть оффлайн и онлайн метрики. Сначала делают замеры на оффлайн-сформированных бэнчмарках. Далее для дополнительной уверенности можно выкатить несколько моделек в прод на разные подгруппы юзеров (АБ-тест) и замерить там уже онлайн метрики. Весь этот процесс - валидация пайплайна.
3) кроме качества работы нас еще могут интересовать дохера параметров - $ per tokens, tokens per second (TPS), конфиденциальность (в чьем контуре работает модель = куда мы носим данные), функциональность экосистемы (возможность легко дообучать модель под свои нужды, serverless фичи (как Internet-search, треды в OpenAI Assistants))
4) частно придуманные моменты, которые могут сформироваться у конкретного кейса (например, политика ответов на конкретные 10 супер важных для клиента вопросов (ака "что произошло в китае в таком-то году")

Ну и тут как при покупке ноутбука или машины, ты пытаешься найти оптимум с учетом кучи разных параметров. 

#### Для бизнеса самые важные параметры (выше = важнее):
1. Легальность (свой контур или соответствие ФЗ-152/GDPR/SOC)
2. Минимально удовлетворимое качество
3. Цена или экосистема
4. Экосистема или цена
5. Максимальное качество (да, максимальное качество модели не так важно, как, например, возможность дообучать модели под свои задачи)

Понятное дело это не всё, но в целом самое важное. Также могут учитывать: Количество фич при работе с моделью (можно ли динамически управлять температурой?), DevX, этичность и безопасность LLM (или наоборот), etc.

#### Под качество подразумевается:
- качество модели на конкретном кейсе или кейсах
- глобальный кругозор модели и качество на других задачах - так как в проде пользователь может делать с LLM что угодно
- скорость инференса (TPS) или end-to-end response time (высокий у reasoning-моделей)
- Time to first token (TTFT)
- модальности модели (Работа с картинками, **графиками, голосом**, аудио, видео, 3D, и т.д. **на вход и на выход**)


*И всё это как в статике - так и в динамике - то есть с учетом скорости развития LLM-вендоров*

### 4. Как сделать свой бэнчмарк?

## Extra Steps

### E1.

## Now we know...

Мы изучили...

## Exercises

Вопросы на размышление, чтобы в голове студента задвигались нейроны.

Практика, если есть.



