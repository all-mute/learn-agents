---
sidebar_label: –ß–∞—Ç-–±–æ—Ç—ã –∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å
---

# –ß–∞—Ç-–±–æ—Ç—ã –∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å

–î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–π–¥–µ–º –ø–æ –ª–µ—Å—Ç–Ω–∏—Ü–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –∏ –≤—ã—è—Å–Ω–∏–º, —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —á–∞—Ç-–±–æ—Ç –∏ AI –∞–≥–µ–Ω—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞? –ê —Ç–∞–∫–∂–µ –∏–∑—É—á–∏–º, –∫–∞–∫ –≤ —á–∞—Ç-–±–æ—Ç–∞—Ö —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å.

## Questions

–í–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—É–¥–µ–º –æ–±—Å—É–∂–¥–∞—Ç—å:
- —á–µ–º –æ—Ç–ª–∏—á–∞—é—Ç—Å—è LLM, —á–∞—Ç-–±–æ—Ç, AI workflow, co-pilot, –∞–≥–µ–Ω—Ç –∏ –¥—Ä—É–≥–∏–µ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞?
- —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—â–µ–Ω–∏—è –¥–æ—Å—Ç–∏–≥ –ª–∏–º–∏—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω–∞–º?
- –∫–∞–∫ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ —á–∞—Ç-–±–æ—Ç–∞—Ö?

# Steps

### 1. Chatbots

[Explore the difference between chatbots and other things](https://excalidraw.com/#json=zjh38Ls_XMRTsUO60aur5,2ieU4682rDovB05fL_KgOw)

### 2. –ò–∑—É—á–∞–µ–º short-term memory

–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—â–∞–µ—Ç—Å—è —Å –≤–∞—à–∏–º –±–æ—Ç–æ–º —É–∂–µ –≤ –¥–µ—Å—è—Ç—ã–π —Ä–∞–∑?
    - –≤–æ-–ø–µ—Ä–≤—ã—Ö, –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–π –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, LLM —Ö—É–∂–µ —Å–ª–µ–¥—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
    - –≤–æ-–≤—Ç–æ—Ä—ã—Ö, –∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç —Å—Ç–æ–∏—Ç—å –¥–æ—Ä–æ–∂–µ (–µ—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—É—é LLM, —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –≤—Å–µ input-—Ç–æ–∫–µ–Ω—ã)

:::tip
–ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ–º –æ–±–µ —Å—Ç–∞—Ç—å–∏, —Å–º–æ—Ç—Ä–∏–º –∫–∞—Ä—Ç–∏–Ω–∫–∏ - –≥–ª–∞–≤–Ω–æ–µ –ø–æ–Ω—è—Ç—å –∫–æ–Ω—Ü–µ–ø—Ç—ã!

–µ—Å–ª–∏ –≤—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏–ª–∏ OpenAI API, –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –±—É–¥—É—Ç –¥–ª—è –≤–∞—Å –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏.
:::

[–ö–∞–∫ –º—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è —Å –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π](https://langchain-ai.github.io/langgraph/concepts/memory/#summarizing-past-conversations)

[–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤](https://www.pinecone.io/learn/series/langchain/langchain-expression-language/)

:::warning –º–∏–Ω—É—Å—ã
–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –º—ã —Ç–µ—Ä—è–µ–º –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –ø–µ—Ä–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å, –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –¢–ó –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏/—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è –¥–µ—Ç–∞–ª–∏.
:::

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π

1. **–û–±—Ä–µ–∑–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–æ–∫–µ–Ω–æ–≤ (`max_tokens`)**  
   –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Å–æ–æ–±—â–µ–Ω–∏–π —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Ö —Å—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–ª–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –æ–∫–Ω–∞ –º–æ–¥–µ–ª–∏.

2. **–û–±—Ä–µ–∑–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–æ–±—â–µ–Ω–∏–π (`max_messages`)**  
   –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –¥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, —É–¥–∞–ª—è—è –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ.

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–µ–∑–∫–∏

- **`strategy="last"`**  
  –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —É–¥–∞–ª—è—è –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ. –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

- **`include_system=True`**  
  –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ `SystemMessage`, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ã—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–µ–ª–∏. ([How to trim messages | ü¶úÔ∏è LangChain](https://python.langchain.com/docs/how_to/trim_messages/?utm_source=chatgpt.com))

- **`start_on="human"` –∏ `ends_on=("human", "tool")`**  
  –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞—á–∏–Ω–∞—è —Å —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—è —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–î–ª—è –æ–±—Ä–µ–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ç–æ–∫–µ–Ω–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:


```python
from langchain_core.messages import trim_messages

trimmed_history = trim_messages(
    messages=chat_history,
    max_tokens=1000,
    strategy="last",
    include_system=True,
    start_on="human",
    ends_on=("human", "tool")
)
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö `trim_messages` –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ LangChain:

- [How to trim messages](https://python.langchain.com/docs/how_to/trim_messages/)

#### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏:

- –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã—Ö –ø–∞–º—è—Ç–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    - –æ–¥–Ω–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π - –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–∞–º–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
    - –≤—Ç–æ—Ä–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–≥–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è) - –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–æ–≥–∞—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
    - —Ç—Ä–µ—Ç—å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –±—É–¥–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- –º—ã –º–æ–∂–µ–º –¥–µ–ª–∞—Ç—å retrieve –ø–æ —É–¥–∞–ª–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (retrieve –∏–∑—É—á–∏–º –≤ –±—É–¥—É—â–µ–º [–º–æ–¥—É–ª–µ](./rag/index))

## Now we know...

–¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏—Å—Ç–æ—Ä–∏–µ–π —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç-–±–æ—Ç–∞—Ö. –ü—Ä–∞–∫—Ç–∏–∫—É –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —á–∞—Ç-–±–æ—Ç–∞ –º—ã –ø—Ä–æ–ø—É—Å–∫–∞–µ–º - –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –ª–µ–≥–∫–æ –∏ —Å–∫—É—á–Ω–æ.

–û–¥–Ω–∞–∫–æ –≤–ø–µ—Ä–µ–¥–∏ –≤–∞—Å –∂–¥—É—Ç –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã - —Ç–∞–º —Ä–∞–±–æ—Ç–∞ —Å –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç—å—é –±—É–¥–µ—Ç –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω–æ–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π.

## Exercises

- 
